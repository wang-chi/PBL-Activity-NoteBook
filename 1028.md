# 如何寫出有效率、好讀、可維護的 Java / Android 程式 {#如何寫出有效率、好讀、可維護的-java--android-程式}

How to write quality code in Java/Android

---

## What is Quality?

* Readable
* Maintainable
* Raliable
* Performant
* Reasonable
* Scalable
* Consistent
* Fool-proof
* Not scalable code example 
  * use of View.getParent\(\).getParent\(\)
  * Typecast Context to Activity

## 3 Phases  for Pragram

* See the Mountain as a Mountain 見山是山
  * 直白 直接看得懂
  * 見山不是山
  * 見山又是山
* A progamer try to learn more and more

  * design pattern
  * SetUp

Simplicity needs delibable

* 讓程式更簡潔
* immutability

* assign each variable only once

* a single equation that functionally computes the result

### POJO（Plain Old Java Object\)

Why POJO? Because it’s simple.

No magic on the data itself.

Counter-example: Listeners inside a data class

### Single Source Of Truth

* Solving data inconsistency issues
* Implementation
  * ShoppingCartActivity.ProductDetailsActivity
* ## Single way of doing things
* Ikea

  * single path from extrance to exit

Single Main Control Flow

## The Beauty Of Vanilla Library/Api

* Everyone knows what it means and its implication
* Most common non-vanilla API
* It's a nightmare if you modify Android support library
  * Customizes changes are surprising
  * Not scalable

Variable Naming

* Suffix the name with the measure unit
  * mTimestampMs.mDistancePx
* Avoid misleading name
  * getTotal\(\) vs. updateAndGetTotal\(\)
* No two function with similar names 不要讓函式名稱類似

## Separation of Concerns

* Don't do fake decoupling
* One data/state can't be controlled by multiple classes/controllers
  * Two controllers controlling the sane view
* Separating the core functionality from product business logic
  * Plugins
  * 



